<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Robocorp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap-theme.css">

    <script src="js/jquery.js" type="text/javascript"></script>
    <script src="js/bootstrap.js" type="text/javascript"></script>
    <script src="js/main.js" type="text/javascript"></script>
    <script src="js/util.js" type="text/javascript"></script>
    <script src="js/hue-api.js" type="text/javascript"></script>

<script type="text/javascript">

    var timer;
    $(function(){

        $("#hue").on('change', function(){
            if (timer) {
                clearTimeout(timer);
            }

            timer = setTimeout(function(){
                api.light.on(parseInt($("#light").val(), 10), 'none', parseInt($("#hue").val(),10), parseInt($("#sat").val(), 10), parseInt($("#bri").val(), 10));
            }, 300);

        });

        $('.light-on').on('click', function(){
            api.light.on(parseInt($("#light").val(), 10), 'none', parseInt($("#hue").val(),10), parseInt($("#sat").val(), 10), parseInt($("#bri").val(), 10));
        });


        $('.light-off').on('click', function(){
            api.light.off(parseInt($("#light").val(), 10));
        });

    });
</script>
</head>
<body>
    <div id="content" class="row">
        <div>
            <h1>Robocorp <small>totally not sponsored by bootstrap</small></h1>
        </div>

        <div class="dropdown col-xs-offset-1 col-xs-10">
            <select id="light" class="form-control">
                <option value="1">Light 1</option>
                <option value="2">Light 2</option>
                <option value="3">Light 3</option>
                <option value="0">All</option>
            </select>
        </div>

        <div class="col-xs-offset-1 col-xs-10">
            Hue: 0-65535 <input id="hue" type="range" name="hue" min="0" max="65535" value="0">
            Saturation: 0-255 <input id="sat" type="range" name="sat" min="0" max="255" value="255">
            Brightness: 0-255 <input id="bri" type="range" name="li" min="0" max="255" value="150">
        </div>

        <div class="col-xs-offset-1 col-xs-10">
            <button data-light-id="1" type="button" class="light-on btn btn-primary btn-block">Light on</button>
            <button data-light-id="1" type="button" class="light-off btn btn-primary btn-block">Light off</button>
        </div>
    </div>

</body>
</html>